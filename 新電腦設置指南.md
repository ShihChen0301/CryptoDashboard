# 新電腦設置指南

> 在新電腦上完整設置 CryptoDashboard 專案的步驟

---

## 📋 前置需求

在開始之前，請先安裝以下軟體：

### 必要軟體
- [ ] **Git** - 版本控制
- [ ] **Node.js 18+** - 前端開發環境
- [ ] **JDK 17** - Java 開發環境
- [ ] **Maven 3.8+** - Java 建置工具
- [ ] **MySQL 8.0+** - 資料庫

### 開發工具（選擇一個）
- [ ] **Eclipse** - Java IDE（推薦，專案已配置）
- [ ] **IntelliJ IDEA** - Java IDE
- [ ] **VS Code** - 輕量級編輯器

---

## 🚀 完整設置步驟

### 步驟 1：Clone 專案

```bash
# 1. Clone 專案到本地
git clone https://github.com/ShihChen0301/CryptoDashboard.git

# 2. 進入專案目錄
cd CryptoDashboard

# 3. 確認所有檔案都下載了
git status
```

**✅ 會自動下載的檔案（共 68 個）：**
- ✅ 所有 Java 原始碼（13 個）
- ✅ 所有 Vue/JS 原始碼（25 個）
- ✅ 所有文檔（7 個 Markdown）
- ✅ 配置檔案（pom.xml, package.json, vite.config.js 等）
- ✅ 資料庫 Schema（schema.sql, schema_zh.sql）
- ✅ CLAUDE.md（專案記憶）

**❌ 不會下載的檔案（需要手動建立）：**
- ❌ `.env`（環境變數，包含 API Key）
- ❌ `node_modules/`（npm 依賴，需要安裝）
- ❌ Eclipse 專案檔案（`.classpath`, `.project`）

---

### 步驟 2：設置前端

```bash
# 1. 進入前端目錄
cd frontend/CryptoDashboard

# 2. 安裝依賴（這會建立 node_modules/）
npm install

# 3. 建立 .env 檔案
# Windows PowerShell:
New-Item .env

# macOS/Linux:
touch .env

# 4. 編輯 .env 檔案，加入以下內容：
```

**`.env` 檔案內容：**
```env
# CoinGecko API Key (Demo Plan: 30 calls/min)
VITE_COINGECKO_API_KEY=CG-vczvnvBTsqG7Z8EVB7KRb3ii
```

**⚠️ 重要：** 如果沒有 `.env` 檔案，前端無法連接 CoinGecko API！

```bash
# 5. 測試啟動前端
npm run dev

# 6. 開啟瀏覽器確認
# http://localhost:5173
```

---

### 步驟 3：設置資料庫

```bash
# 1. 啟動 MySQL
# Windows: 在服務中啟動 MySQL
# macOS: brew services start mysql
# Linux: sudo systemctl start mysql

# 2. 登入 MySQL
mysql -u root -p

# 3. 執行資料庫腳本（在 MySQL 中）
source database/schema.sql;

# 或者在命令列執行：
mysql -u root -p < database/schema.sql

# 4. 確認資料庫建立成功
mysql -u root -p
> USE crypto_dashboard;
> SHOW TABLES;
```

**✅ 預期結果：**
```
+----------------------------+
| Tables_in_crypto_dashboard |
+----------------------------+
| announcements              |
| auth_tokens                |
| coin_favorites             |
| users                      |
+----------------------------+
4 rows in set
```

---

### 步驟 4：設置後端

#### 方法 A：使用 Eclipse（推薦）

```bash
# 1. 開啟 Eclipse

# 2. File → Import → Maven → Existing Maven Projects

# 3. 選擇 backend/ 資料夾

# 4. 確認勾選 pom.xml

# 5. Finish

# 6. 等待 Maven 下載依賴（第一次會比較久）
```

**Eclipse 會自動建立：**
- `.classpath` - Eclipse 類別路徑配置
- `.project` - Eclipse 專案配置
- `.settings/` - Eclipse 設定資料夾

#### 方法 B：使用命令列

```bash
# 1. 進入後端目錄
cd backend

# 2. 下載依賴
mvn clean install

# 3. 啟動後端
mvn spring-boot:run
```

---

### 步驟 5：配置後端資料庫連線

**編輯 `backend/src/main/resources/application.yml`：**

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/crypto_dashboard?useSSL=false&serverTimezone=Asia/Taipei&characterEncoding=UTF-8&allowPublicKeyRetrieval=true
    username: root
    password: YOUR_MYSQL_PASSWORD  # ← 改成你的 MySQL 密碼
    driver-class-name: com.mysql.cj.jdbc.Driver
```

**⚠️ 重要：** 修改 `password` 為你的 MySQL 密碼！

---

### 步驟 6：測試啟動

#### 6.1 啟動後端

**Eclipse：**
- 右鍵點擊 `CryptoDashboardApplication.java`
- Run As → Java Application

**命令列：**
```bash
cd backend
mvn spring-boot:run
```

**✅ 預期輸出：**
```
========================================
CryptoDashboard Backend 啟動成功！
API 位址: http://localhost:8080/api
========================================
```

#### 6.2 啟動前端

```bash
cd frontend/CryptoDashboard
npm run dev
```

**✅ 預期輸出：**
```
VITE v7.x.x  ready in xxx ms

➜  Local:   http://localhost:5173/
➜  Network: use --host to expose
```

#### 6.3 測試連線

開啟瀏覽器訪問：`http://localhost:5173`

---

## 📝 檢查清單

### ✅ Git Clone 後應該有的檔案

```
CryptoDashboard/
├── backend/
│   ├── src/
│   │   └── main/
│   │       ├── java/ (13 個 .java 檔案) ✅
│   │       └── resources/
│   │           └── application.yml ✅
│   └── pom.xml ✅
├── frontend/
│   └── CryptoDashboard/
│       ├── src/ (25 個 .vue/.js 檔案) ✅
│       ├── package.json ✅
│       └── vite.config.js ✅
├── database/
│   ├── schema.sql ✅
│   └── schema_zh.sql ✅
├── docs/
│   ├── README.md ✅
│   ├── 後端規劃.md ✅
│   └── 專案結構規劃.md ✅
├── CLAUDE.md ✅
├── README.md ✅
├── Eclipse 設置指南.md ✅
└── 快速開始.md ✅
```

### ❌ 需要手動建立的檔案

```
CryptoDashboard/
├── frontend/CryptoDashboard/
│   ├── .env ❌ (需手動建立)
│   ├── node_modules/ ❌ (npm install 後自動產生)
│   └── dist/ ❌ (npm run build 後自動產生)
└── backend/
    ├── target/ ❌ (mvn install 後自動產生)
    ├── .classpath ❌ (Eclipse 自動產生)
    ├── .project ❌ (Eclipse 自動產生)
    └── .settings/ ❌ (Eclipse 自動產生)
```

---

## 🔍 常見問題

### Q1: Clone 下來後缺少 .env 檔案？
**A:** 正常！`.env` 包含 API Key，不會提交到 Git。請手動建立並填入內容。

### Q2: 前端啟動後看不到資料？
**A:** 檢查 `.env` 檔案是否建立，且 API Key 是否正確填入。

### Q3: 後端啟動失敗，連不上資料庫？
**A:**
1. 檢查 MySQL 是否啟動
2. 檢查 `application.yml` 中的密碼是否正確
3. 確認資料庫 `crypto_dashboard` 已建立

### Q4: Eclipse 沒有自動建立 .classpath 和 .project？
**A:** 使用「Import → Existing Maven Projects」，而不是「Import → General → Existing Projects」。

### Q5: npm install 失敗？
**A:**
1. 確認 Node.js 版本 >= 18
2. 刪除 `package-lock.json` 後重試
3. 使用 `npm install --legacy-peer-deps`

---

## 📞 需要協助？

如果遇到問題，請檢查：
1. **CLAUDE.md** - 專案記憶與歷史決策
2. **Eclipse 設置指南.md** - Eclipse 詳細設定步驟
3. **快速開始.md** - 快速啟動指南
4. **README.md** - 專案說明與安裝步驟

---

## 🎯 驗證設置成功

當以下所有項目都成功時，表示設置完成：

- [ ] Git Clone 成功，檔案數量正確
- [ ] 前端 npm install 成功，可以啟動 `http://localhost:5173`
- [ ] 資料庫建立成功，有 4 個表格
- [ ] 後端 Maven 依賴下載完成
- [ ] 後端可以啟動 `http://localhost:8080/api`
- [ ] 前端可以看到幣種價格（表示 API Key 正確）

**恭喜！您已經在新電腦上成功設置 CryptoDashboard！** 🎉

---

**版本**: 1.0.0
**最後更新**: 2024-11-24
**維護者**: CryptoDashboard Team
