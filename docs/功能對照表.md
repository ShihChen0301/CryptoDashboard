# CryptoDashboard åŠŸèƒ½å°ç…§è¡¨

> å¿«é€ŸæŸ¥é–±ï¼šä½ æå‡ºçš„åŠŸèƒ½éœ€æ±‚ vs è³‡æ–™åº«æ”¯æ´ç‹€æ³

---

## ğŸ“‹ åŠŸèƒ½éœ€æ±‚æª¢æŸ¥æ¸…å–®

| # | åŠŸèƒ½éœ€æ±‚ | è³‡æ–™åº«æ”¯æ´ | æ–°å¢è¡¨æ ¼ | å‰ç«¯èª¿æ•´ | å¾Œç«¯ API | å„ªå…ˆç´š |
|---|---------|----------|---------|---------|---------|-------|
| 1ï¸âƒ£ | å¹£ç¨®é¸é …å¤ªå°‘ | âœ… ä¸éœ€è¦ | - | èª¿æ•´ API åƒæ•¸ | - | ä½ |
| 2ï¸âƒ£ | Price Chart å¯ä»¥ä¸åª 30 å¤© | âœ… ä¸éœ€è¦ | - | æ–°å¢æ™‚é–“é¸é … | - | ä¸­ |
| 3ï¸âƒ£ | ä½¿ç”¨è€…å¯è‡ªè¡Œæ–°å¢å¹£ç¨® | ğŸ†• éœ€è¦æ–°è¡¨æ ¼ | `coin_submissions` | æ–°å¢ç”³è«‹é é¢ | âœ… éœ€è¦ | é«˜ |
| 4ï¸âƒ£ | å…©å€‹ä»¥ä¸Šå¹£ç¨®æ¯”è¼ƒï¼ˆæœ€å¤š 4 æ”¯ï¼‰ | ğŸ†• éœ€è¦æ–°è¡¨æ ¼ | `coin_comparisons` | æ“´å……æ¯”è¼ƒé é¢ | âœ… éœ€è¦ | ä¸­ |
| 5ï¸âƒ£ | ä½¿ç”¨è€…&ç®¡ç†è€…ä¸åŒæ¬Šé™ | âœ… å·²å®Œæˆ | - | - | - | - |
| 6ï¸âƒ£ | ç®¡ç†è€…å¯å¯©æ ¸ä½¿ç”¨è€…æ–°å¢çš„å¹£ç¨® | ğŸ†• éœ€è¦æ–°è¡¨æ ¼ | `coin_submissions` | ç®¡ç†å“¡å¯©æ ¸é é¢ | âœ… éœ€è¦ | é«˜ |
| 7ï¸âƒ£ | è¶¨å‹¢åœ–ï¼ˆè²·å…¥æœ€å¤šå¹¾æ¬¾å¹£ï¼‰ | ğŸ†• éœ€è¦æ–°è¡¨æ ¼ | `user_transactions` | Dashboard æ–°å¢åœ–è¡¨ | âœ… éœ€è¦ | é«˜ |
| 8ï¸âƒ£ | Market Overview å¯æ’åº | âœ… ä¸éœ€è¦ | - | æ¯æ¬„æ–°å¢æ’åºåŠŸèƒ½ | - | ä½ |
| 9ï¸âƒ£ | ä½¿ç”¨è€…è¼¸å…¥äº¤æ˜“å¹´é½¡ | âœ… å·²å®Œæˆ | - | - | - | - |

---

## ğŸ—‚ï¸ è³‡æ–™åº«è¡¨æ ¼ç¸½è¦½ï¼ˆv1 â†’ v2ï¼‰

### åŸæœ‰è¡¨æ ¼ï¼ˆ4 å€‹ï¼‰- ä¿æŒä¸è®Š
| è¡¨å | ç”¨é€” | ç‹€æ…‹ |
|------|------|------|
| `users` | ä½¿ç”¨è€…å¸³è™Ÿ | âœ… å·²æœ‰ |
| `auth_tokens` | ç™»å…¥æ†‘è­‰ | âœ… å·²æœ‰ |
| `coin_favorites` | æ”¶è—å¹£ç¨®ï¼ˆWatchlistï¼‰ | âœ… å·²æœ‰ |
| `announcements` | ç³»çµ±å…¬å‘Š | âœ… å·²æœ‰ |

### æ–°å¢è¡¨æ ¼ï¼ˆ3 å€‹ï¼‰- v2.0 æ–°åŠŸèƒ½
| è¡¨å | ç”¨é€” | æ”¯æ´åŠŸèƒ½ |
|------|------|---------|
| `coin_submissions` | å¹£ç¨®ç”³è«‹å¯©æ ¸ | åŠŸèƒ½ 3ï¸âƒ£ + åŠŸèƒ½ 6ï¸âƒ£ |
| `coin_comparisons` | å¤šå¹£æ¯”è¼ƒçµ„ | åŠŸèƒ½ 4ï¸âƒ£ |
| `user_transactions` | äº¤æ˜“è¨˜éŒ„ | åŠŸèƒ½ 7ï¸âƒ£ |

---

## ğŸ¯ åŠŸèƒ½å¯¦ä½œæ¸…å–®

### ç¬¬ä¸€å„ªå…ˆï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

#### åŠŸèƒ½ 3ï¸âƒ£ + 6ï¸âƒ£ï¼šä½¿ç”¨è€…æäº¤å¹£ç¨® + ç®¡ç†å“¡å¯©æ ¸

**è³‡æ–™åº«**
```sql
-- å·²å»ºç«‹ï¼šdatabase/schema_v2.sql
CREATE TABLE coin_submissions (
    id, user_id, coin_symbol, coin_name,
    status ('pending', 'approved', 'rejected'),
    reviewed_by_user_id, review_note, ...
);
```

**å‰ç«¯é é¢**
- [ ] æ–°å¢ `CoinSubmissionView.vue` - ä½¿ç”¨è€…ç”³è«‹é é¢
  - è¡¨å–®ï¼šå¹£ç¨®ä»£è™Ÿã€åç¨±ã€æè¿°ã€å®˜ç¶²ã€ç™½çš®æ›¸
  - åˆ—è¡¨ï¼šæˆ‘çš„ç”³è«‹ï¼ˆç‹€æ…‹ï¼šå¾…å¯©æ ¸/å·²é€šé/å·²æ‹’çµ•ï¼‰

- [ ] ä¿®æ”¹ `AdminView.vue` - ç®¡ç†å“¡å¯©æ ¸é é¢
  - åˆ†é ï¼šã€Œå¯©æ ¸å¹£ç¨®ç”³è«‹ã€
  - åˆ—è¡¨ï¼šæ‰€æœ‰å¾…å¯©æ ¸ç”³è«‹
  - æ“ä½œï¼šé€šé/æ‹’çµ•ï¼ˆå¯å¡«å¯«å¯©æ ¸æ„è¦‹ï¼‰

**å¾Œç«¯ API**
- [ ] `POST /api/coin-submissions` - æäº¤ç”³è«‹
- [ ] `GET /api/coin-submissions/my` - æŸ¥è©¢æˆ‘çš„ç”³è«‹
- [ ] `GET /api/coin-submissions/pending` - æŸ¥è©¢å¾…å¯©æ ¸ï¼ˆadmin é™å®šï¼‰
- [ ] `PATCH /api/coin-submissions/:id` - å¯©æ ¸ç”³è«‹ï¼ˆadmin é™å®šï¼‰

---

#### åŠŸèƒ½ 7ï¸âƒ£ï¼šè¶¨å‹¢åœ–ï¼ˆè²·å…¥æœ€å¤šçš„å¹£ç¨®ï¼‰

**è³‡æ–™åº«**
```sql
-- å·²å»ºç«‹ï¼šdatabase/schema_v2.sql
CREATE TABLE user_transactions (
    id, user_id, coin_id,
    transaction_type ('buy', 'sell'),
    amount, price_at_time, total_value, fee, ...
);
```

**å‰ç«¯é é¢**
- [ ] æ–°å¢ `PortfolioView.vue` - å€‹äººæŠ•è³‡çµ„åˆ
  - è¡¨å–®ï¼šæ–°å¢äº¤æ˜“ï¼ˆè²·å…¥/è³£å‡ºã€å¹£ç¨®ã€æ•¸é‡ã€åƒ¹æ ¼ã€æ™‚é–“ï¼‰
  - åˆ—è¡¨ï¼šæˆ‘çš„äº¤æ˜“è¨˜éŒ„
  - çµ±è¨ˆï¼šæŒå€‰ç¸½è¦½ã€æ”¶ç›Šåˆ†æ

- [ ] ä¿®æ”¹ `DashboardView.vue` - ä¸»é 
  - æ–°å¢ï¼šã€Œå…¨å¹³å°è²·å…¥è¶¨å‹¢ã€åœ–è¡¨ï¼ˆæŸ±ç‹€åœ–/æ’è¡Œæ¦œï¼‰
  - æ›¿æ›ï¼šåŸæœ¬çš„ Trending Buys å‡è³‡æ–™å€å¡Š

**å¾Œç«¯ API**
- [ ] `POST /api/transactions` - æ–°å¢äº¤æ˜“è¨˜éŒ„
- [ ] `GET /api/transactions` - æŸ¥è©¢æˆ‘çš„äº¤æ˜“
- [ ] `GET /api/transactions/portfolio` - è¨ˆç®—æˆ‘çš„æŒå€‰
- [ ] `GET /api/transactions/stats/trending-buys` - å…¨å¹³å°è²·å…¥è¶¨å‹¢
- [ ] `DELETE /api/transactions/:id` - åˆªé™¤äº¤æ˜“

**é‡è¦æŸ¥è©¢ SQL**
```sql
-- å…¨å¹³å°è²·å…¥æœ€å¤šçš„å¹£ç¨®ï¼ˆDashboard ç”¨ï¼‰
SELECT coin_id, SUM(amount) AS total_bought
FROM user_transactions
WHERE transaction_type = 'buy'
  AND transaction_date > DATE_SUB(NOW(), INTERVAL 30 DAY)
GROUP BY coin_id
ORDER BY total_bought DESC
LIMIT 10;
```

---

### ç¬¬äºŒå„ªå…ˆï¼ˆå¢å¼·åŠŸèƒ½ï¼‰

#### åŠŸèƒ½ 4ï¸âƒ£ï¼šå¤šå¹£æ¯”è¼ƒï¼ˆæœ€å¤š 4 å€‹ï¼‰

**è³‡æ–™åº«**
```sql
-- å·²å»ºç«‹ï¼šdatabase/schema_v2.sql
CREATE TABLE coin_comparisons (
    id, user_id, name,
    coin_ids JSON,  -- æœ€å¤š 4 å€‹å¹£ç¨®
    ...
);
```

**å‰ç«¯é é¢**
- [ ] ä¿®æ”¹ `CompareView.vue` - æ¯”è¼ƒé é¢
  - æ–°å¢ï¼šã€Œå„²å­˜æ¯”è¼ƒçµ„ã€æŒ‰éˆ•
  - åˆ—è¡¨ï¼šæˆ‘çš„æ¯”è¼ƒçµ„ï¼ˆå¯å¿«é€Ÿè¼‰å…¥ï¼‰
  - é¡¯ç¤ºï¼š4 æ¬„ä¸¦åˆ—ï¼ˆåƒ¹æ ¼ã€24hã€7dã€å¸‚å€¼ã€åœ–è¡¨ï¼‰

**å¾Œç«¯ API**
- [ ] `POST /api/comparisons` - å»ºç«‹æ¯”è¼ƒçµ„
- [ ] `GET /api/comparisons` - æŸ¥è©¢æˆ‘çš„æ¯”è¼ƒçµ„
- [ ] `PUT /api/comparisons/:id` - æ›´æ–°æ¯”è¼ƒçµ„
- [ ] `DELETE /api/comparisons/:id` - åˆªé™¤æ¯”è¼ƒçµ„

---

#### åŠŸèƒ½ 2ï¸âƒ£ï¼šPrice Chart å¤šæ™‚é–“å€é–“

**å‰ç«¯èª¿æ•´**ï¼ˆç„¡éœ€å¾Œç«¯ï¼‰
- [ ] ä¿®æ”¹ `PriceChart.vue` æˆ–ç›¸é—œçµ„ä»¶
  - æ–°å¢æ™‚é–“é¸æ“‡æŒ‰éˆ•ï¼š7å¤©ã€30å¤©ã€90å¤©ã€180å¤©ã€365å¤©ã€å…¨éƒ¨
  - èª¿æ•´ CoinGecko API åƒæ•¸ `days`

---

#### åŠŸèƒ½ 8ï¸âƒ£ï¼šMarket Overview æ’åº

**å‰ç«¯èª¿æ•´**ï¼ˆç„¡éœ€å¾Œç«¯ï¼‰
- [ ] ä¿®æ”¹ `CoinTable.vue` æˆ– `MarketListView.vue`
  - æ¯ä¸€æ¬„æ¨™é¡Œå¯é»æ“Šæ’åº
  - æ”¯æ´ï¼šåƒ¹æ ¼ã€24h è®ŠåŒ–ã€å¸‚å€¼ã€äº¤æ˜“é‡ç­‰

---

#### åŠŸèƒ½ 1ï¸âƒ£ï¼šå¹£ç¨®é¸é …æ“´å……

**å‰ç«¯èª¿æ•´**ï¼ˆç„¡éœ€å¾Œç«¯ï¼‰
- [ ] ä¿®æ”¹ `coingeckoApi.js`
  - èª¿æ•´ `per_page` åƒæ•¸ï¼ˆé è¨­ 50 â†’ 100 æˆ–æ›´å¤šï¼‰
  - æ–°å¢åˆ†é æˆ–ã€Œè¼‰å…¥æ›´å¤šã€åŠŸèƒ½

---

## ğŸ“‚ æª”æ¡ˆæ¸…å–®

### è³‡æ–™åº« Schema
- âœ… `database/schema_v2.sql` - è‹±æ–‡ç‰ˆï¼ˆå¯¦éš›éƒ¨ç½²ç”¨ï¼‰
- âœ… `database/schema_v2_zh.sql` - ä¸­æ–‡ç‰ˆï¼ˆå­¸ç¿’å°ç…§ç”¨ï¼‰

### æ–‡æª”
- âœ… `docs/åŠŸèƒ½éœ€æ±‚åˆ†æ_v2.md` - è©³ç´°åˆ†æå ±å‘Š
- âœ… `docs/åŠŸèƒ½å°ç…§è¡¨.md` - æœ¬æª”æ¡ˆï¼ˆå¿«é€Ÿåƒè€ƒï¼‰

### å¾…å»ºç«‹æª”æ¡ˆï¼ˆå¾Œç«¯ï¼‰
- [ ] `backend/src/main/java/com/crypto/dashboard/entity/CoinSubmission.java`
- [ ] `backend/src/main/java/com/crypto/dashboard/entity/CoinComparison.java`
- [ ] `backend/src/main/java/com/crypto/dashboard/entity/UserTransaction.java`
- [ ] `backend/src/main/java/com/crypto/dashboard/repository/CoinSubmissionRepository.java`
- [ ] `backend/src/main/java/com/crypto/dashboard/repository/CoinComparisonRepository.java`
- [ ] `backend/src/main/java/com/crypto/dashboard/repository/UserTransactionRepository.java`
- [ ] `backend/src/main/java/com/crypto/dashboard/service/CoinSubmissionService.java`
- [ ] `backend/src/main/java/com/crypto/dashboard/service/CoinComparisonService.java`
- [ ] `backend/src/main/java/com/crypto/dashboard/service/TransactionService.java`
- [ ] `backend/src/main/java/com/crypto/dashboard/controller/CoinSubmissionController.java`
- [ ] `backend/src/main/java/com/crypto/dashboard/controller/CoinComparisonController.java`
- [ ] `backend/src/main/java/com/crypto/dashboard/controller/TransactionController.java`

### å¾…å»ºç«‹æª”æ¡ˆï¼ˆå‰ç«¯ï¼‰
- [ ] `frontend/CryptoDashboard/src/views/CoinSubmissionView.vue`
- [ ] `frontend/CryptoDashboard/src/views/PortfolioView.vue`
- [ ] `frontend/CryptoDashboard/src/components/TransactionForm.vue`
- [ ] `frontend/CryptoDashboard/src/components/PortfolioChart.vue`
- [ ] `frontend/CryptoDashboard/src/components/SubmissionForm.vue`
- [ ] `frontend/CryptoDashboard/src/components/ComparisonGrid.vue`
- [ ] `frontend/CryptoDashboard/src/utils/transactions.js`
- [ ] `frontend/CryptoDashboard/src/utils/submissions.js`
- [ ] `frontend/CryptoDashboard/src/utils/comparisons.js`

---

## ğŸš€ å¯¦ä½œé †åºå»ºè­°

### éšæ®µ 1ï¼šè³‡æ–™åº«å»ºç«‹ï¼ˆç«‹å³åŸ·è¡Œï¼‰
```bash
# æ–¹å¼ 1ï¼šå®Œæ•´å»ºç«‹
mysql -u root -p < database/schema_v2.sql

# æ–¹å¼ 2ï¼šåƒ…æ–°å¢ 3 å€‹è¡¨æ ¼ï¼ˆå‡è¨­åŸæœ‰è¡¨æ ¼å·²å­˜åœ¨ï¼‰
mysql -u root -p crypto_dashboard
# ç„¶å¾Œæ‰‹å‹•åŸ·è¡Œ schema_v2.sql ä¸­çš„ coin_submissions, coin_comparisons, user_transactions éƒ¨åˆ†
```

### éšæ®µ 2ï¼šå¾Œç«¯é–‹ç™¼ï¼ˆ3-5 å¤©ï¼‰
1. Day 1ï¼šå»ºç«‹ Entityã€Repository
2. Day 2-3ï¼šå¯¦ä½œ Service å±¤ï¼ˆäº¤æ˜“è¨˜éŒ„ã€æŒå€‰è¨ˆç®—ï¼‰
3. Day 4ï¼šå¯¦ä½œ Controller å±¤ï¼ˆREST APIï¼‰
4. Day 5ï¼šæ¸¬è©¦èˆ‡é©—è­‰

### éšæ®µ 3ï¼šå‰ç«¯é–‹ç™¼ï¼ˆ3-5 å¤©ï¼‰
1. Day 1ï¼šæ–°å¢å·¥å…·å‡½æ•¸ï¼ˆAPI å‘¼å«ï¼‰
2. Day 2ï¼šå¯¦ä½œäº¤æ˜“è¨˜éŒ„é é¢
3. Day 3ï¼šå¯¦ä½œ Dashboard è¶¨å‹¢åœ–
4. Day 4ï¼šå¯¦ä½œå¹£ç¨®ç”³è«‹èˆ‡å¯©æ ¸é é¢
5. Day 5ï¼šå¯¦ä½œå¤šå¹£æ¯”è¼ƒåŠŸèƒ½

### éšæ®µ 4ï¼šç°¡å–®åŠŸèƒ½ï¼ˆ1 å¤©ï¼‰
1. Price Chart å¤šæ™‚é–“å€é–“
2. Market Overview æ’åº
3. å¹£ç¨®é¸é …æ“´å……

---

## âœ… ç•¶å‰ç‹€æ…‹

- âœ… åŠŸèƒ½éœ€æ±‚å·²åˆ†æå®Œæˆ
- âœ… è³‡æ–™åº« Schema å·²è¨­è¨ˆå®Œæˆï¼ˆv2.0ï¼‰
- âœ… ä¸­è‹±æ–‡ç‰ˆ SQL æª”æ¡ˆå·²å»ºç«‹
- âœ… åŠŸèƒ½éœ€æ±‚åˆ†æå ±å‘Šå·²ç”¢å‡º
- â³ ç­‰å¾…é–‹å§‹å¯¦ä½œå¾Œç«¯èˆ‡å‰ç«¯

---

*æ–‡æª”ç‰ˆæœ¬ï¼šv1.0*
*æœ€å¾Œæ›´æ–°ï¼š2024-11-25*
