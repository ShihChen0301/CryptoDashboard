# CoinVue（幣景）完整學習路徑指南 v1.2.0

> 基於完整實作的專案，從零開始學習全端開發

---

## 📋 專案概述

**專案名稱**: CoinVue（幣景）
**專案類型**: 全端加密貨幣市場監控平台
**前端版本**: v1.2.0（100% 完成）
**後端版本**: v1.1.0（生產就緒）
**開發時間**: 2024-11-20 ~ 2025-12-04

### 核心功能清單
1. 即時價格追蹤（雙 API 架構：CoinGecko + CoinCap）
2. 市場總覽（5000+ 幣種 + 進階篩選）
3. 幣種比較（最多 4 個同時比較）
4. 個人收藏清單（Watchlist）
5. JWT 認證授權系統
6. 管理後台（數據總覽、用戶管理、公告管理）
7. 系統公告功能（admin 發布、user 查看）
8. 多語系支援（中英文切換）

### 技術棧
**前端**:
- Vue 3.5.22 (Composition API)
- Vite 7.1.11
- Pinia 3.0.3 (狀態管理)
- Vue Router 4.6.3
- vue-i18n 9.14.5 (國際化)

**後端**:
- Spring Boot 3.2.0
- Spring Security + JWT
- Spring Data JPA + Hibernate
- MySQL 8.0
- Maven 3.8+

---

## 🎯 給 AI 學習工具的完整提示詞

請將以下提示詞複製給 Gemini 或其他 AI 學習工具：

---

### 📚 主提示詞（開始學習前）

```
我想從零開始學習建立一個完整的全端專案：CoinVue（幣景）- 加密貨幣市場監控平台。

## 專案背景
這是一個真實完成並部署的專案（v1.2.0），包含：
- 前端：Vue 3 + Vite + Pinia + Vue Router + vue-i18n
- 後端：Spring Boot 3.2 + Spring Security + JWT + MySQL 8.0
- 功能：即時價格追蹤、用戶認證、收藏清單、管理後台、系統公告、多語系

## 我的技術水平
- [ ] JavaScript 基礎：[請填寫你的程度]
- [ ] Vue.js 經驗：[請填寫]
- [ ] Java 經驗：[請填寫]
- [ ] Spring Boot 經驗：[請填寫]
- [ ] 資料庫經驗：[請填寫]

## 學習目標
我希望通過**重新實作這個專案**的方式，從零開始學習全端開發。我想要：
1. 理解每個功能為什麼要這樣設計
2. 學會前後端分離開發的最佳實踐
3. 掌握企業級的認證授權系統
4. 學會狀態管理和 API 整合
5. 理解資料庫設計與 ORM

## 學習方式要求
請以**引導式教學**的方式教我，遵循以下原則：
1. 從最簡單的功能開始，逐步增加複雜度
2. 每個步驟都要解釋「為什麼」這樣設計
3. 提供完整的程式碼範例（含詳細註解）
4. 說明常見錯誤和如何避免
5. 給我小作業來驗證理解
6. **等我確認理解後，才進入下一步**

## 專案完整資訊
我會提供以下文檔供你參考：
1. 資料庫 Schema（9 個表的完整結構）
2. 專案開發歷史（CLAUDE.md）
3. 後端 API 架構
4. 前端組件結構
5. 重要檔案路徑

**現在，請確認你已經理解我的學習目標，然後我會開始提供專案資訊。**
```

---

## 📖 分階段學習提示詞

---

### 階段 1：環境設置與專案架構（Week 1-2）

```
## 階段 1：建立專案基礎架構

我想學習如何從零開始建立 CoinVue 專案的基礎架構。

### 前端部分
目標：建立 Vue 3 + Vite 專案，並設置基本的路由和頁面結構

請教我：
1. 如何使用 Vite 建立 Vue 3 專案？
2. 如何安裝和配置 Vue Router？
3. 如何建立專案的資料夾結構？
   - views/ (頁面組件)
   - components/ (可重用組件)
   - stores/ (Pinia 狀態管理)
   - utils/ (工具函數)
   - router/ (路由配置)
4. 如何建立 8 個基礎頁面：
   - LoginView, RegisterView
   - DashboardView, MarketListView
   - CoinDetailView, WatchlistView
   - CompareView, AdminView

### 後端部分
目標：建立 Spring Boot 專案，並設置基本的分層架構

請教我：
1. 如何使用 Spring Initializr 建立專案？
   - 需要哪些依賴？(Spring Web, Spring Security, Spring Data JPA, MySQL Driver)
2. 如何建立標準的分層架構？
   - config/ (配置類)
   - controller/ (控制器層)
   - service/ (服務層)
   - repository/ (資料存取層)
   - entity/ (實體類)
   - dto/ (數據傳輸對象)
   - exception/ (異常處理)
   - util/ (工具類)
3. 如何配置 application.yml？
   - 資料庫連線
   - JWT 設定
   - CORS 設定

### 資料庫設置
目標：建立 MySQL 資料庫與核心表格

請教我：
1. 如何設計 User 表？
   - 需要哪些欄位？
   - 如何處理密碼儲存（BCrypt）？
2. 如何設計 AuthToken 表？
   - JWT Token 如何儲存？
   - 過期時間如何處理？

**每個步驟請包含**：
- 設計思路（為什麼這樣做）
- 完整程式碼範例
- 常見錯誤提醒
- 小作業驗證

請從「前端部分 - 問題 1」開始教我。
```

---

### 階段 2：前端核心功能（Week 3-5）

```
## 階段 2A：API 整合與狀態管理

我已經完成基礎架構，現在要學習前端核心功能。

### 學習目標
1. 使用 CoinGecko API 獲取加密貨幣數據
2. 使用 Pinia 管理全局狀態
3. 實作幣種列表頁面（含分頁、搜尋、排序）

### 問題 1：如何設計 Pinia Store？
專案需求：
- 需要快取幣種列表數據（避免重複 API 請求）
- 多個頁面共用相同數據（Dashboard, Market, Compare）
- 需要處理載入狀態和錯誤處理

請教我：
1. 如何建立 useCoinsStore？
   - state 應該包含哪些屬性？
   - getters 如何設計？
   - actions 如何處理異步請求？
2. 如何實作快取機制？
   - 什麼時候從快取讀取？
   - 什麼時候重新請求 API？
3. 如何在組件中使用 Store？

請提供：
- stores/useCoinsStore.js 的完整範例
- 如何在 DashboardView.vue 中使用
- 快取策略的最佳實踐

---

## 階段 2B：幣種列表實作

### 問題 2：如何實作 MarketListView？
需求：
- 顯示 5000+ 幣種列表
- 支援分頁（每頁 50 筆）
- 支援搜尋（幣種名稱/代號）
- 支援排序（價格、市值、漲跌幅）
- 點擊進入詳情頁

請教我：
1. 如何設計組件結構？
   - MarketListView.vue（父組件）
   - CoinTable.vue（表格組件）
   - CoinCard.vue（卡片組件）
2. 如何實作分頁？
3. 如何實作搜尋和排序？
4. 如何優化大量數據的渲染？

請提供完整的 MarketListView.vue 範例，並解釋每個部分。

---

## 階段 2C：進階篩選功能

### 問題 3：如何實作進階篩選？
需求：
- 價格範圍篩選（最低價 ~ 最高價）
- 市值範圍篩選
- 24h 交易量篩選
- 漲跌幅範圍篩選
- 篩選條件儲存（localStorage）

請教我：
1. 如何設計篩選面板的 UI？
2. 如何使用 Pinia Store 管理篩選狀態？
3. 如何結合搜尋、排序、篩選？
4. 如何儲存用戶的篩選偏好？

請提供 useMarketFilterStore.js 的完整範例。
```

---

### 階段 3：後端認證系統（Week 6-8）

```
## 階段 3：Spring Boot + JWT 認證系統

我想學習建立企業級的認證授權系統。

### 技術需求
- Spring Boot 3.2
- Spring Security
- JWT (HS512 演算法)
- BCrypt 密碼加密
- MySQL 儲存用戶資料

### 核心功能
1. 用戶註冊（email, username, password）
2. 用戶登入（返回 JWT Token）
3. JWT Token 驗證（Filter）
4. Token 撤銷（登出時刪除）
5. 角色權限控制（user, admin）

---

## 問題 1：如何設計 User Entity？

請教我：
1. User 表需要哪些欄位？
   - 基本資訊（id, username, email, passwordHash）
   - 角色權限（role: user/admin）
   - 時間戳記（joinDate, createdAt, updatedAt）
   - 狀態（status: active/disabled）
2. 如何使用 JPA 註解？
   - @Entity, @Table
   - @Id, @GeneratedValue
   - @Column (nullable, unique, length)
   - @Enumerated (EnumType.STRING)
3. 如何處理 User 與其他表的關聯？
   - OneToMany 關係（User → AuthToken）
   - OneToMany 關係（User → CoinFavorite）
   - 如何避免循環參照？

請提供：
- 完整的 User.java Entity 類別
- 相關的 Enum 定義（Role, Status）
- 關聯關係的正確設定

---

## 問題 2：如何實作 JWT 工具類？

需求：
- 簽發 JWT Token（包含 userId 和 role）
- 驗證 Token 有效性
- 解析 Token 取得用戶資訊
- Token 過期時間：24 小時

請教我：
1. 如何使用 io.jsonwebtoken 庫？
2. 如何設計 JwtUtil 類？
   - generateToken(User user)
   - validateToken(String token)
   - getUserIdFromToken(String token)
   - getRoleFromToken(String token)
3. Secret Key 如何管理？（從 application.yml 讀取）
4. 如何處理 Token 過期？

請提供完整的 JwtUtil.java 範例。

---

## 問題 3：如何實作 JwtAuthenticationFilter？

目標：攔截所有請求，驗證 JWT Token

請教我：
1. 如何繼承 OncePerRequestFilter？
2. 如何從 Request Header 取得 Token？
   - Header 名稱：Authorization
   - 格式：Bearer {token}
3. 如何驗證 Token 並設定 SecurityContext？
4. 哪些路徑應該放行？
   - /api/auth/login
   - /api/auth/register
   - /api/coins/** (公開 API)
5. 錯誤處理（Token 無效、過期）

請提供：
- 完整的 JwtAuthenticationFilter.java
- SecurityConfig 的配置
- 如何整合到 Spring Security 過濾鏈

---

## 問題 4：如何實作 AuthController 和 AuthService？

需求：
- POST /api/auth/register - 註冊
- POST /api/auth/login - 登入（返回 JWT）
- POST /api/auth/logout - 登出（刪除 Token）

請教我：
1. AuthController 如何設計？
   - @RestController vs @Controller
   - @RequestBody 驗證（使用 @Valid）
   - ResponseEntity 的正確使用
2. AuthService 如何實作？
   - 註冊流程（密碼 BCrypt 加密）
   - 登入流程（密碼驗證 + JWT 簽發）
   - 登出流程（刪除 AuthToken）
3. DTO 如何設計？
   - LoginRequest（email, password）
   - RegisterRequest（username, email, password）
   - AuthResponse（token, user）
4. 如何處理重複註冊？（email 已存在）

請提供：
- AuthController.java 完整範例
- AuthService.java 完整範例
- 所有 DTO 類別
- GlobalExceptionHandler（異常處理）
```

---

### 階段 4：前後端整合（Week 9-10）

```
## 階段 4：前後端整合與收藏功能

我已經完成前端和後端的基礎功能，現在要整合它們。

### 情境
- 前端：Vue 3 運行在 localhost:5173
- 後端：Spring Boot 運行在 localhost:8080
- 認證方式：JWT Bearer Token

---

## 問題 1：如何解決 CORS 跨域問題？

請教我：
1. 什麼是 CORS？為什麼會有跨域問題？
2. 後端如何配置 CORS？
   - CorsConfig 類如何寫？
   - 允許哪些來源？
   - 允許哪些方法和 Header？
3. 有哪些安全考量？

請提供完整的 CorsConfig.java 範例。

---

## 問題 2：前端如何管理 JWT Token？

需求：
- 登入後儲存 Token
- 每次 API 請求自動帶上 Token
- Token 無效時跳轉到登入頁
- 登出時清除 Token

請教我：
1. 如何設計統一的 API 工具？
   - utils/api.js
   - 如何設定 Base URL？
   - 如何自動添加 Authorization Header？
2. Token 儲存在哪裡？
   - localStorage vs sessionStorage
   - 安全性考量
3. 如何處理 401 和 403 錯誤？
   - 自動登出
   - 跳轉到登入頁

請提供：
- 完整的 utils/api.js
- LoginView.vue 的登入邏輯
- 如何在其他組件中使用

---

## 問題 3：如何實作收藏功能（Watchlist）？

需求：
- 用戶可以收藏喜愛的幣種
- 收藏列表顯示在 WatchlistView
- 防止重複收藏
- 一鍵清空收藏

### 後端設計
請教我：
1. 如何設計 CoinFavorite Entity？
   - 欄位：id, userId, coinId, addedAt
   - 如何設定外鍵關聯？
   - 如何防止重複收藏？（unique constraint）
2. FavoriteController 如何實作？
   - POST /api/favorites - 新增收藏
   - GET /api/favorites - 取得收藏列表
   - DELETE /api/favorites/{id} - 刪除收藏
   - DELETE /api/favorites/all - 清空收藏
3. FavoriteService 如何處理商業邏輯？

### 前端設計
請教我：
1. 如何在 CoinCard 上加入收藏按鈕？
   - 星星圖示（未收藏/已收藏）
   - 點擊時切換狀態
2. WatchlistView 如何顯示收藏列表？
   - 如何取得 coinId 對應的完整數據？
   - 載入狀態處理
3. 如何實作快取機制？
   - 收藏後立即更新 UI（不用重新請求）

請提供：
- 完整的後端 API 實作
- FavoriteButton.vue 組件
- WatchlistView.vue 完整範例
```

---

### 階段 5：進階功能（Week 11-13）

```
## 階段 5A：多語系功能

我想學習實作完整的多語系切換功能。

### 需求
- 支援中文（zh-TW）和英文（en-US）
- 切換語系時不重新載入頁面
- 語系偏好儲存在 localStorage

請教我：
1. 如何安裝和配置 vue-i18n？
2. 如何組織翻譯文件？
   - locales/zh-TW.json
   - locales/en-US.json
3. 如何建立 useLocaleStore？
4. 如何在組件中使用 $t() 函數？
5. 如何實作語系切換按鈕？

請提供完整的實作範例。

---

## 階段 5B：Admin Panel（管理後台）

這是專案的進階功能，包含三大模塊。

### 需求
1. 數據總覽 Tab
   - 總用戶數、活躍用戶數、總收藏數
   - 最多收藏的幣種排行（Top 10）
2. 用戶管理 Tab
   - 顯示所有用戶列表（含收藏數統計）
3. 公告管理 Tab
   - 建立/編輯/刪除系統公告
   - 切換公告啟用/停用

---

## 問題 1：後端如何設計 Admin API？

請教我：
1. 如何設計 AdminController？
   - GET /api/admin/stats - 統計數據
   - GET /api/admin/users - 用戶列表
2. 如何在 Repository 實作複雜查詢？
   - JPQL 查詢語法
   - GROUP BY 和 COUNT
   - LEFT JOIN 關聯查詢
3. 如何設計 DTO？
   - AdminStatsResponse（統計數據）
   - UserSummaryDTO（用戶摘要）

請提供：
- AdminController.java
- AdminService.java
- UserRepository 的查詢方法
- 所有 DTO 類別

---

## 問題 2：如何實作公告系統？

### 後端設計
請教我：
1. Announcement Entity 如何設計？
   - 欄位：title, content, type, isActive, createdBy
   - type 枚舉：info, success, warning
   - createdBy 如何關聯到 User？
2. AnnouncementController 如何實作？
   - POST /api/admin/announcements - 建立
   - PUT /api/admin/announcements/{id} - 更新
   - DELETE /api/admin/announcements/{id} - 刪除
   - GET /api/announcements - 取得啟用的公告（所有用戶可見）
3. 如何從 SecurityContext 取得當前用戶？
   - 建立公告時自動設定 createdBy

### 前端設計
請教我：
1. AdminView.vue 如何實作 Tab 切換？
2. 公告表單如何設計？
   - 標題、內容、類型選擇
3. 如何在 DashboardView 顯示公告？
   - 公告橫幅（banner）樣式
   - 三種類型的視覺區分（顏色、圖示）
   - 動畫效果

請提供完整的實作範例。
```

---

### 階段 6：優化與部署（Week 14-15）

```
## 階段 6：專案優化與安全性強化

我想學習如何優化和保護專案。

### 學習目標
1. 安全性優化
2. 性能優化
3. 錯誤處理
4. 部署準備

---

## 問題 1：如何強化 JWT 安全性？

目前問題：
- JWT Secret 強度不足
- 缺少 Token 黑名單機制

請教我：
1. 如何生成強密鑰？（512 位）
2. 如何實作 Token 撤銷？
   - 登出時檢查 auth_tokens 表
   - JwtAuthenticationFilter 驗證 Token 是否存在
3. 如何處理 Token 過期自動刷新？

---

## 問題 2：如何優化前端性能？

請教我：
1. 如何實作虛擬滾動？（大量列表）
2. 如何使用 Vue 的 KeepAlive？（頁面快取）
3. 如何優化圖片載入？（lazy loading）
4. 如何減少不必要的 API 請求？（快取策略）

---

## 問題 3：如何實作完整的錯誤處理？

請教我：
1. 後端 GlobalExceptionHandler 如何設計？
   - 捕捉所有異常
   - 返回標準化錯誤格式
2. 前端如何顯示友善的錯誤訊息？
   - Toast 通知
   - 錯誤頁面（404, 500）

---

## 問題 4：部署準備

請教我：
1. 如何將敏感資訊移至環境變數？
2. 如何建立 Docker 容器？
3. 如何設定 Nginx 反向代理？
4. 如何部署到雲端平台？（AWS, Azure, GCP）
```

---

## 🎯 學習檢查清單

在每個階段完成後，確認你已經掌握：

### 階段 1 檢查清單
- [ ] 能獨立建立 Vue 3 + Vite 專案
- [ ] 能配置 Vue Router 和基本路由
- [ ] 能建立標準的 Spring Boot 專案結構
- [ ] 能設計簡單的資料庫 Schema
- [ ] 能連接 MySQL 並執行基本查詢

### 階段 2 檢查清單
- [ ] 能使用 Pinia 管理全局狀態
- [ ] 能串接第三方 API（CoinGecko）
- [ ] 能實作分頁、搜尋、排序功能
- [ ] 能處理載入狀態和錯誤
- [ ] 能設計可重用的 Vue 組件

### 階段 3 檢查清單
- [ ] 能設計完整的 User Entity
- [ ] 能實作 JWT 工具類
- [ ] 能配置 Spring Security
- [ ] 能實作 JwtAuthenticationFilter
- [ ] 能處理密碼加密（BCrypt）
- [ ] 能實作登入/註冊 API

### 階段 4 檢查清單
- [ ] 能解決 CORS 跨域問題
- [ ] 能在前端管理 JWT Token
- [ ] 能處理 401/403 錯誤
- [ ] 能實作完整的 CRUD 功能（收藏）
- [ ] 能設計 RESTful API

### 階段 5 檢查清單
- [ ] 能實作多語系功能
- [ ] 能設計複雜的管理後台
- [ ] 能實作統計查詢（GROUP BY, JOIN）
- [ ] 能處理複雜的前後端資料流

### 階段 6 檢查清單
- [ ] 能識別安全漏洞並修復
- [ ] 能優化前端性能
- [ ] 能實作完整的錯誤處理
- [ ] 能準備專案部署

---

## 💡 學習建議

### 1. 實作優先
不要只看理論，要**親手寫代碼**。每學習一個功能就立即實作。

### 2. 小步快跑
不要一次學太多，專注於當前階段的目標。

### 3. 做筆記
記錄：
- 學到了什麼
- 為什麼要這樣設計
- 遇到什麼問題，如何解決

### 4. 提問技巧
與其問：「JWT 是什麼？」
不如問：「如何實作 JWT 認證流程？請邊做邊解釋。」

### 5. 定期回顧
每週回顧學到的內容，確保理解沒有斷層。

---

## 📚 額外資源

### 提供給 AI 的專案文檔
1. **CLAUDE.md** - 完整的專案記憶和開發歷史
2. **database/schema_v3.sql** - 資料庫結構
3. **README.md** - 專案說明和快速開始
4. **docs/後端代碼檢查報告.md** - 安全性建議

### 建議的學習順序
```
Week 1-2:  基礎架構 + 環境設置
Week 3-5:  前端核心功能 + API 整合
Week 6-8:  後端認證系統 + Spring Security
Week 9-10: 前後端整合 + 收藏功能
Week 11-13: 進階功能（多語系、Admin Panel、公告系統）
Week 14-15: 優化、安全性、部署
```

---

## 🎓 學習成果展示

完成學習後，你將能夠：
1. ✅ 獨立開發全端 Web 應用
2. ✅ 設計 RESTful API
3. ✅ 實作企業級認證授權
4. ✅ 使用現代前端框架（Vue 3）
5. ✅ 使用 Spring Boot 建立後端服務
6. ✅ 設計關聯式資料庫
7. ✅ 實作複雜的業務邏輯
8. ✅ 優化性能與安全性

---

**祝你學習順利！🚀**
